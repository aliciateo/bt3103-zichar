{"remainingRequest":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alicia/Desktop/BT3103/bt3103-week-4/src/components/Modify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/src/components/Modify.vue","mtime":1615138231535},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vZmlyZWJhc2UuanMnClZ1ZS5jb21wb25lbnQoJ2RhdGFiYXNlJyxkYXRhYmFzZSkKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgZGF0YXBhY2tldDpbXSwKICAgICAgdXBkYXRlTnVtYmVyczpbXSwKICAgICAgZHBDb3B5OltdLAogICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLCAKICAgICAgdGVzdDogMCwKICAgIH0KICB9LAoKICBtZXRob2RzOnsKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uKCl7CiAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oJ29yZGVycycpLmRvYyh0aGlzLmlkKS5nZXQoKS50aGVuKChkb2MpPT57CiAgICAgICAgICBsZXQgaXRlbSA9e30KICAgICAgICAgIGl0ZW09ZG9jLmRhdGEoKQogICAgICAgICAgdGhpcy5kYXRhcGFja2V0LnB1c2goaXRlbSkKICAgICAgICB9KSAgCiAgICB9LCAgCiAgICB1cGRhdGVPcmRlcjogZnVuY3Rpb24oKXsKICAgICAgdGhpcy5kcENvcHkgPSB0aGlzLmRhdGFwYWNrZXQuc2xpY2UoKQogICAgICB0aGlzLmRwQ29weSA9IHRoaXMuZHBDb3B5WzBdCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT2JqZWN0LmtleXModGhpcy5kYXRhcGFja2V0WzBdKS5sZW5ndGg7IGorKyl7CiAgICAgICAgaWYgKHRoaXMudXBkYXRlTnVtYmVyc1tqXSE9bnVsbCl7CiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZGF0YXBhY2tldFswXVtqXTsKICAgICAgICAgIHRoaXMuZHBDb3B5W2pdPSBbdGVtcFswXSxOdW1iZXIodGhpcy51cGRhdGVOdW1iZXJzW2pdKSx0ZW1wWzJdXTsKICAgICAgICB9ICAKICAgICAgfQogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2ModGhpcy5pZCkuc2V0KE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZHBDb3B5KSkudGhlbigoKSA9PiB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9PcmRlcnMnfSkpOwogICAgfSwgIAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKXsKICAgIHRoaXMuZmV0Y2hJdGVtcygpCiAgfSwKfQo="},{"version":3,"sources":["Modify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Modify.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ul>\n      <span v-for=\"item in this.datapacket\" :key=\"item.id\">\n        <li>\n          <span v-for=\"(food,index) in item\" :key=\"index\">\n          <p>\n          {{food[0]}}: {{food[1]}}\n          </p>\n          <input v-model=\"updateNumbers[index]\" id=index placeholder=0 type=\"number\" min=\"0\">\n          </span>\n        </li>\n        <button v-on:click=\"updateOrder()\">Update Order</button>\n      </span> \n    </ul>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport database from '../firebase.js'\nVue.component('database',database)\nexport default {\n  data(){\n    return{\n      datapacket:[],\n      updateNumbers:[],\n      dpCopy:[],\n      id: this.$route.params.id, \n      test: 0,\n    }\n  },\n\n  methods:{\n    fetchItems: function(){\n      database.collection('orders').doc(this.id).get().then((doc)=>{\n          let item ={}\n          item=doc.data()\n          this.datapacket.push(item)\n        })  \n    },  \n    updateOrder: function(){\n      this.dpCopy = this.datapacket.slice()\n      this.dpCopy = this.dpCopy[0]\n      for (let j = 0; j < Object.keys(this.datapacket[0]).length; j++){\n        if (this.updateNumbers[j]!=null){\n          var temp = this.datapacket[0][j];\n          this.dpCopy[j]= [temp[0],Number(this.updateNumbers[j]),temp[2]];\n        }  \n      }\n      database.collection('orders').doc(this.id).set(Object.assign({}, this.dpCopy)).then(() => this.$router.push({path: '/Orders'}));\n    },  \n  },\n  created: function(){\n    this.fetchItems()\n  },\n}\n</script>\n\n<style>\n h1{\n   background-color:#BCC6CC;\n   text-align:center;\n   padding: 10%;\n }\n</style>\n"]}]}
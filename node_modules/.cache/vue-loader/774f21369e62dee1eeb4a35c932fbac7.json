{"remainingRequest":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alicia/Desktop/BT3103/bt3103-week-4/src/components/Orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/src/components/Orders.vue","mtime":1615140212708},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alicia/Desktop/BT3103/bt3103-week-4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vZmlyZWJhc2UuanMnClZ1ZS5jb21wb25lbnQoJ2RhdGFiYXNlJyxkYXRhYmFzZSkKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgb3JkZXJzOltdLAogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbigpewogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5nZXQoKS50aGVuKChxdWVyeVNuYXBTaG90KT0+ewogICAgICAgIGxldCBpdGVtPXt9CiAgICAgICAgcXVlcnlTbmFwU2hvdC5mb3JFYWNoKGRvYz0+ewogICAgICAgICAgICBpdGVtPWRvYy5kYXRhKCkKICAgICAgICAgICAgaXRlbS5pZCA9IGRvYy5pZCwKICAgICAgICAgICAgdGhpcy5vcmRlcnMucHVzaChbZG9jLmlkLCBkb2MuZGF0YSgpXSkgCiAgICAgICAgICB9KSAgICAgICAgCiAgICAgICAgfSkgICAgCiAgICB9LAogICAgZGVsZXRlSXRlbTogZnVuY3Rpb24oZXZlbnQpewogICAgICBsZXQgZG9jX2lkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaWQiKTsKICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbignb3JkZXJzJykuZG9jKGRvY19pZCkuZGVsZXRlKCkudGhlbigoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSk7CiAgICB9LAogICAgcm91dGU6IGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgbGV0IGRvY19pZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoImlkIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL01vZGlmeScsIG5hbWU6ICdtb2RpZnknLCBwYXJhbXM6IHtpZDpkb2NfaWR9fSkKICAgIH0KCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbigpewogICAgdGhpcy5mZXRjaEl0ZW1zKCkKICB9LAp9Cg=="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"content\">\n      <ul>  \n        {{this.orders}}\n      <span v-for=\"item in this.orders\" :key=\"item[0]\">\n        <li>\n          <span v-for=\"food in item[1]\" :key=\"food.id\">\n          <p>{{food[0]}}: {{food[1]}}</p>\n          </span>\n          <button  v-bind:id=\"item[0]\" v-on:click=\"deleteItem($event); fetchItems()\"> Delete </button>\n          <button v-bind:id=\"item[0]\" v-on:click=\"route($event)\"> Modify </button>\n        </li>\n        \n      </span> \n    </ul>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport database from '../firebase.js'\nVue.component('database',database)\nexport default {\n  data(){\n    return{\n      orders:[],\n    }\n  },\n  methods:{\n    fetchItems: function(){\n      database.collection('orders').get().then((querySnapShot)=>{\n        let item={}\n        querySnapShot.forEach(doc=>{\n            item=doc.data()\n            item.id = doc.id,\n            this.orders.push([doc.id, doc.data()]) \n          })        \n        })    \n    },\n    deleteItem: function(event){\n      let doc_id = event.target.getAttribute(\"id\");\n      database.collection('orders').doc(doc_id).delete().then(() => location.reload());\n    },\n    route: function(event){\n      let doc_id = event.target.getAttribute(\"id\");\n      this.$router.push({path: '/Modify', name: 'modify', params: {id:doc_id}})\n    }\n\n  },\n  created: function(){\n    this.fetchItems()\n  },\n}\n</script>\n<style>\nul {\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  flex-grow: 1;\n  flex-basis: 300px;\n  text-align: center;\n  padding: 10px;\n  border: 1px solid #222;\n  margin: 10px;\n}\n\nbutton {\n  width: 85px;\n  height: 60px;\n  background-color: #f7cac9;\n  border-radius: 10px;\n  border-width: 1px;\n  text-align:center;\n}\n</style>"]}]}